# 禁用缓存，防止304 Not Modified问题
<IfModule mod_headers.c>
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires 0
</IfModule>

# 对markdown文件禁用缓存
<FilesMatch "\.(md)$">
    <IfModule mod_headers.c>
        Header set Cache-Control "no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires 0
    </IfModule>
</FilesMatch>

# 对PHP文件禁用缓存
<FilesMatch "\.(php)$">
    <IfModule mod_headers.c>
        Header set Cache-Control "no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires 0
    </IfModule>
</FilesMatch>

# 启用重写引擎
RewriteEngine On

# 强制刷新markdown文件
RewriteCond %{REQUEST_FILENAME} -f
RewriteCond %{REQUEST_URI} \.md$
RewriteRule ^(.*)$ $1?t=%{TIME} [L,QSA]
